<!DOCTYPE html>
<html>
<head>
	<title>Sign up</title>
    <link rel="stylesheet" title="default" href="css/style1.css">
    <script src="js/jq.js"></script>
    <script src="js/history.js"></script>
</head>
<header>
	<nav class = "top">
		<a href="index.html" class="logo">Unsplash</a>
        <span class="pull-right" style="float: right">
            <a href="Login.html">Sign in</a>
        </span>
	</nav>
</header>
<body>
<!-- <form method="post" class="registerForm" id="registerForm"> -->
 
    <!-- <div class="registerDiv">
        <table class="registerTable" align="center">
            <tr>
                <td class="loginTableLeftTD">Username</td>
            </tr>
            <tr>	
                <td class="loginTableRightTD"><input id="name" name="name" placeholder="username" > </td>
            </tr>
            <tr>
                <td class="loginTableLeftTD">Password</td>
            </tr>
            <tr>
                <td class="loginTableRightTD"><input id="password" name="password" type="password"  placeholder="password" ></td>
            </tr>
            <tr>
                <td class="loginTableLeftTD">Confirm Password</td>
            </tr>
            <tr>
                <td class="registerTableRightTD"><input id="repeatpassword" type="password"   placeholder="confirm your password" > </td>
            </tr>
            <tr>
                <td colspan="2" class="loginButtonTD">
                    <a href="#nowhere"><button class="signInBtn">Sign Up</button></a>
                </td>
            </tr>
        </table>

    </div>
</form> -->
<div class="container">
    <h1 class="label">User Register</h1>
    <form class="login_form" method="post" name="form" onsubmit="return validated()">
        <div class="font">Username</div>
        <input autocomplete="off" type="text" name="email">
        <div id="email_error">Please fill up your Username</div>
        <div class="font font2">Password</div>
        <input type="password" name="password">
        <div id="pass_error">Please fill up your Password</div>
        <div id="pass_tip">Make sure it's including a number and a lowercase letter.</div>
        <div class="font font2">Confirm Password</div>
        <input type="password" name="cpassword">
        <div id="cpwd_error">Please fill up Confirm Password</div>
        <div id="cpwd_tip">Make sure you input the same password</div>
        <button type="submit">Sign Up</button>

    </form>
</div>
<!-- <script src="js/valid.js"></script> -->
<script>
    // let form = document.getElementById('registerForm');
    // form.onsubmit = function() {
    //     let inputs = form.getElementsByTagName('input');
    //     let username = inputs[0].value;
    //     let pwd = inputs[1].value;
    //     let repeatpwd = inputs[2].value;
    //     var regp =/^(?=.*[a-zA-Z]+)(?=.*[0-9]+)[a-zA-Z0-9]+$/;
    //     if (username === "" || pwd === "" || repeatpwd === "") {
    //         alert("这三项都不能为空！");
    //     }
    //     else if (pwd != repeatpwd) {
    //         alert("两次密码输入不一致");
    //     }
    //     else if (pwd == repeatpwd && !regp.test(pwd)) {
    //         alert("密码必须为数字和字母的组合")
    //     } else {
    //         alert("注册成功!")
    //     }
    // };
    	//Validtion Code For Inputs

    var email = document.forms['form']['email'];
    var password = document.forms['form']['password'];
    var cpwd = document.forms['form']['cpassword'];
    var email_error = document.getElementById('email_error');
    var pass_error = document.getElementById('pass_error');
    var pass_tip = document.getElementById('pass_tip');
    var cpwd_error = document.getElementById('cpwd_error');
    var cpwd_tip = document.getElementById('cpwd_tip');
    
    email.addEventListener('textInput', email_Verify);
    password.addEventListener('textInput', pass_Verify);
    cpwd.addEventListener('textInput', cpwd_Verify);
    
    function validated(){
        if (email.value.length == 0) {
            email.style.border = "1px solid red";
            email_error.style.display = "block";
            email.focus();
            return false;
        }
        if (password.value.length == 0) {
            password.style.border = "1px solid red";
            pass_error.style.display = "block";
            password.focus();
            return false;
        }
        if (cpwd.value.length == 0) {
            cpwd.style.border = "1px solid red";
            cpwd_error.style.display = "block";
            cpwd.focus();
            
            return false;
        }
        if (password.value != cpwd.value) {
            cpwd.style.border = "1px solid red";
            cpwd_tip.style.display = "block";
            cpwd.focus();
            
            return false;
        } else {
            cpwd_tip.style.display = "none";
        }
        var regp =/^(?=.*[a-zA-Z]+)(?=.*[0-9]+)[a-zA-Z0-9]+$/;
        
        if (!regp.test(password.value)) {
            password.style.border = "1px solid red";
            pass_tip.style.display = "block";
            password.focus();
            
            return false;
        }

        alert("Register Success.");
        return false;
    
    }
    function email_Verify(){
        if (email.value.length >= 1) {
            email.style.border = "1px solid silver";
            email_error.style.display = "none";
            return true;
        }
    }
    function pass_Verify(){
        if (password.value.length >= 1) {
            password.style.border = "1px solid silver";
            pass_error.style.display = "none";
            pass_tip.style.display = "none";
            return true;
        }
    }
    function cpwd_Verify(){
        if (cpwd.value.length >= 1) {
            cpwd.style.border = "1px solid silver";
            cpwd_error.style.display = "none";
            cpwd_tip.style.display = "none";
            return true;
        }
    }
    
</script>
</body>
</html>